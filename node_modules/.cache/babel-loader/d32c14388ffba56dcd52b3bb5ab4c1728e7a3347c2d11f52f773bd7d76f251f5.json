{"ast":null,"code":"import _objectSpread from\"/home/davide/progetti/timeline-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from\"react\";import{motion}from\"framer-motion\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const containerRef=useRef(null);const[notes,setNotes]=useState(()=>{const saved=localStorage.getItem(\"timeline-notes\");return saved?JSON.parse(saved):[];});const[creatingNote,setCreatingNote]=useState(null);const[editingNote,setEditingNote]=useState(null);const activeNote=creatingNote||editingNote;useEffect(()=>{if(containerRef.current){containerRef.current.scrollTop=containerRef.current.scrollHeight/2;}},[]);useEffect(()=>{localStorage.setItem(\"timeline-notes\",JSON.stringify(notes));},[notes]);const getYFromDate=dateStr=>{if(!dateStr)return 5000;const inputDate=new Date(dateStr);const today=new Date();inputDate.setHours(0,0,0,0);today.setHours(0,0,0,0);const diffInDays=Math.floor((today-inputDate)/(1000*60*60*24));const pixelsPerDay=10;const centerY=5000;return centerY-diffInDays*pixelsPerDay;};const handleCreateNote=e=>{if(editingNote)return;const rect=containerRef.current.getBoundingClientRect();const x=e.clientX+containerRef.current.scrollLeft-rect.left;const y=e.clientY+containerRef.current.scrollTop-rect.top;setCreatingNote({x,y,title:\"\",description:\"\",tags:\"\",date:\"\",image:null,id:Date.now()});};const handleEditNote=note=>{setEditingNote(_objectSpread({},note));};const saveNote=()=>{if(editingNote){const updatedNote=_objectSpread(_objectSpread({},editingNote),{},{y:getYFromDate(editingNote.date)});setNotes(prev=>prev.map(n=>n.id===editingNote.id?updatedNote:n));setEditingNote(null);}else{setNotes(prev=>[...prev,_objectSpread(_objectSpread({},creatingNote),{},{y:getYFromDate(creatingNote.date||new Date().toISOString().split(\"T\")[0])})]);setCreatingNote(null);}};const deleteNote=id=>{setNotes(prev=>prev.filter(n=>n.id!==id));};const updateNotePosition=(id,x,y)=>{const container=containerRef.current;const noteWidth=250;const noteHeight=150;const maxX=container.scrollWidth-noteWidth;const maxY=container.scrollHeight-noteHeight;const clampedX=Math.min(Math.max(0,x),maxX);const clampedY=Math.min(Math.max(0,y),maxY);setNotes(prev=>prev.map(n=>n.id===id?_objectSpread(_objectSpread({},n),{},{x:clampedX,y:clampedY}):n));};const getImageURL=note=>{if(!note.image)return null;if(typeof note.image===\"string\")return note.image;try{return URL.createObjectURL(note.image);}catch(_unused){return null;}};const renderTimelineLabels=()=>{const labels=[];const today=new Date();for(let i=-365*5;i<=0;i+=30){const date=new Date();date.setDate(today.getDate()+i);const labelY=getYFromDate(date.toISOString().split(\"T\")[0]);labels.push(/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:\"50%\",top:labelY,transform:\"translateX(-50%)\",fontSize:12,color:\"#888\",background:\"white\",padding:\"2px 6px\",borderRadius:\"4px\"},children:date.toISOString().split(\"T\")[0]},i));}return labels;};return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"container\",style:{position:\"relative\",scrollSnapType:\"y mandatory\"},onClick:handleCreateNote,children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-line-vertical\"}),renderTimelineLabels(),notes.map(note=>{const centerX=containerRef.current?containerRef.current.clientWidth/2+containerRef.current.scrollLeft:0;const noteWidth=250;const noteHeight=150;let lineLeft,lineWidth;if(note.x+noteWidth<centerX){lineLeft=note.x+noteWidth;lineWidth=centerX-(note.x+noteWidth);}else if(note.x>centerX){lineLeft=centerX;lineWidth=note.x-centerX;}else{lineLeft=centerX;lineWidth=0;}const lineTop=note.y+20;return/*#__PURE__*/_jsxs(React.Fragment,{children:[lineWidth>0&&/*#__PURE__*/_jsx(\"div\",{className:\"connector\",style:{left:lineLeft,top:lineTop,width:lineWidth}}),/*#__PURE__*/_jsx(motion.div,{drag:true,dragConstraints:containerRef,dragElastic:0,dragMomentum:false,onDragEnd:(e,info)=>updateNotePosition(note.id,note.x+info.offset.x,note.y+info.offset.y),onDoubleClick:()=>handleEditNote(note),whileHover:{scale:1.03},whileTap:{scale:0.97},transition:{type:\"spring\",stiffness:300,damping:20},className:\"note-wrapper\",style:{top:note.y,left:note.x,width:noteWidth},children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-card\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg mb-1\",children:note.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mb-2 whitespace-pre-wrap\",children:note.description}),getImageURL(note)&&/*#__PURE__*/_jsx(\"img\",{src:getImageURL(note),alt:\"note\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 mb-2\",children:[\"Tags: \",note.tags]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteNote(note.id),className:\"text-red-600 hover:underline text-sm\",children:\"Delete\"})]})})]},note.id);}),activeNote&&/*#__PURE__*/_jsx(\"div\",{className:\"form-wrapper\",style:{position:\"absolute\",top:activeNote.y,left:activeNote.x,width:300,zIndex:20},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border p-1 w-full\",placeholder:\"Title\",value:activeNote.title,onChange:e=>editingNote?setEditingNote(_objectSpread(_objectSpread({},editingNote),{},{title:e.target.value})):setCreatingNote(_objectSpread(_objectSpread({},creatingNote),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{className:\"border p-1 w-full resize-none\",rows:3,placeholder:\"Description\",value:activeNote.description,onChange:e=>editingNote?setEditingNote(_objectSpread(_objectSpread({},editingNote),{},{description:e.target.value})):setCreatingNote(_objectSpread(_objectSpread({},creatingNote),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-1 w-full\",placeholder:\"Tags\",value:activeNote.tags,onChange:e=>editingNote?setEditingNote(_objectSpread(_objectSpread({},editingNote),{},{tags:e.target.value})):setCreatingNote(_objectSpread(_objectSpread({},creatingNote),{},{tags:e.target.value}))}),/*#__PURE__*/_jsx(DatePicker,{selected:activeNote.date?new Date(activeNote.date):null,onChange:date=>{const iso=date.toISOString().split(\"T\")[0];editingNote?setEditingNote(_objectSpread(_objectSpread({},editingNote),{},{date:iso})):setCreatingNote(_objectSpread(_objectSpread({},creatingNote),{},{date:iso}));},maxDate:new Date(),className:\"border p-1 w-full\",placeholderText:\"Seleziona la data\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>editingNote?setEditingNote(_objectSpread(_objectSpread({},editingNote),{},{image:e.target.files[0]})):setCreatingNote(_objectSpread(_objectSpread({},creatingNote),{},{image:e.target.files[0]}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveNote,className:\"px-3 py-1 bg-blue-600 text-white rounded\",children:editingNote?\"Update\":\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCreatingNote(null);setEditingNote(null);},className:\"px-3 py-1 bg-gray-300 rounded\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:e=>{e.stopPropagation();const rect=containerRef.current.getBoundingClientRect();const x=rect.width/2+containerRef.current.scrollLeft;const y=rect.height/2+containerRef.current.scrollTop;setCreatingNote({x,y,title:\"\",description:\"\",tags:\"\",date:\"\",image:null,id:Date.now()});},children:\"+\"})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","DatePicker","jsx","_jsx","jsxs","_jsxs","App","containerRef","notes","setNotes","saved","localStorage","getItem","JSON","parse","creatingNote","setCreatingNote","editingNote","setEditingNote","activeNote","current","scrollTop","scrollHeight","setItem","stringify","getYFromDate","dateStr","inputDate","Date","today","setHours","diffInDays","Math","floor","pixelsPerDay","centerY","handleCreateNote","e","rect","getBoundingClientRect","x","clientX","scrollLeft","left","y","clientY","top","title","description","tags","date","image","id","now","handleEditNote","note","_objectSpread","saveNote","updatedNote","prev","map","n","toISOString","split","deleteNote","filter","updateNotePosition","container","noteWidth","noteHeight","maxX","scrollWidth","maxY","clampedX","min","max","clampedY","getImageURL","URL","createObjectURL","_unused","renderTimelineLabels","labels","i","setDate","getDate","labelY","push","style","position","transform","fontSize","color","background","padding","borderRadius","children","ref","className","scrollSnapType","onClick","centerX","clientWidth","lineLeft","lineWidth","lineTop","Fragment","width","div","drag","dragConstraints","dragElastic","dragMomentum","onDragEnd","info","offset","onDoubleClick","whileHover","scale","whileTap","transition","type","stiffness","damping","stopPropagation","src","alt","zIndex","placeholder","value","onChange","target","rows","selected","iso","maxDate","placeholderText","accept","files","height"],"sources":["/home/davide/progetti/timeline-app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./App.css\";\n\nexport default function App() {\n  const containerRef = useRef(null);\n\n  const [notes, setNotes] = useState(() => {\n    const saved = localStorage.getItem(\"timeline-notes\");\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  const [creatingNote, setCreatingNote] = useState(null);\n  const [editingNote, setEditingNote] = useState(null);\n\n  const activeNote = creatingNote || editingNote;\n\n  useEffect(() => {\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight / 2;\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"timeline-notes\", JSON.stringify(notes));\n  }, [notes]);\n\n  const getYFromDate = (dateStr) => {\n    if (!dateStr) return 5000;\n    const inputDate = new Date(dateStr);\n    const today = new Date();\n    inputDate.setHours(0, 0, 0, 0);\n    today.setHours(0, 0, 0, 0);\n    const diffInDays = Math.floor((today - inputDate) / (1000 * 60 * 60 * 24));\n    const pixelsPerDay = 10;\n    const centerY = 5000;\n    return centerY - diffInDays * pixelsPerDay;\n  };\n\n  const handleCreateNote = (e) => {\n    if (editingNote) return;\n    const rect = containerRef.current.getBoundingClientRect();\n    const x = e.clientX + containerRef.current.scrollLeft - rect.left;\n    const y = e.clientY + containerRef.current.scrollTop - rect.top;\n    setCreatingNote({\n      x,\n      y,\n      title: \"\",\n      description: \"\",\n      tags: \"\",\n      date: \"\",\n      image: null,\n      id: Date.now(),\n    });\n  };\n\n  const handleEditNote = (note) => {\n    setEditingNote({ ...note });\n  };\n\n  const saveNote = () => {\n    if (editingNote) {\n      const updatedNote = {\n        ...editingNote,\n        y: getYFromDate(editingNote.date),\n      };\n      setNotes((prev) =>\n        prev.map((n) => (n.id === editingNote.id ? updatedNote : n))\n      );\n      setEditingNote(null);\n    } else {\n      setNotes((prev) => [\n        ...prev,\n        {\n          ...creatingNote,\n          y: getYFromDate(\n            creatingNote.date || new Date().toISOString().split(\"T\")[0]\n          ),\n        },\n      ]);\n      setCreatingNote(null);\n    }\n  };\n\n  const deleteNote = (id) => {\n    setNotes((prev) => prev.filter((n) => n.id !== id));\n  };\n\n  const updateNotePosition = (id, x, y) => {\n    const container = containerRef.current;\n    const noteWidth = 250;\n    const noteHeight = 150;\n    const maxX = container.scrollWidth - noteWidth;\n    const maxY = container.scrollHeight - noteHeight;\n    const clampedX = Math.min(Math.max(0, x), maxX);\n    const clampedY = Math.min(Math.max(0, y), maxY);\n    setNotes((prev) =>\n      prev.map((n) => (n.id === id ? { ...n, x: clampedX, y: clampedY } : n))\n    );\n  };\n\n  const getImageURL = (note) => {\n    if (!note.image) return null;\n    if (typeof note.image === \"string\") return note.image;\n    try {\n      return URL.createObjectURL(note.image);\n    } catch {\n      return null;\n    }\n  };\n\n  const renderTimelineLabels = () => {\n    const labels = [];\n    const today = new Date();\n    for (let i = -365 * 5; i <= 0; i += 30) {\n      const date = new Date();\n      date.setDate(today.getDate() + i);\n      const labelY = getYFromDate(date.toISOString().split(\"T\")[0]);\n      labels.push(\n        <div\n          key={i}\n          style={{\n            position: \"absolute\",\n            left: \"50%\",\n            top: labelY,\n            transform: \"translateX(-50%)\",\n            fontSize: 12,\n            color: \"#888\",\n            background: \"white\",\n            padding: \"2px 6px\",\n            borderRadius: \"4px\",\n          }}\n        >\n          {date.toISOString().split(\"T\")[0]}\n        </div>\n      );\n    }\n    return labels;\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"container\"\n      style={{ position: \"relative\", scrollSnapType: \"y mandatory\" }}\n      onClick={handleCreateNote}\n    >\n      <div className=\"timeline-line-vertical\" />\n      {renderTimelineLabels()}\n\n      {notes.map((note) => {\n        const centerX = containerRef.current\n          ? containerRef.current.clientWidth / 2 +\n            containerRef.current.scrollLeft\n          : 0;\n        const noteWidth = 250;\n        const noteHeight = 150;\n\n        let lineLeft, lineWidth;\n        if (note.x + noteWidth < centerX) {\n          lineLeft = note.x + noteWidth;\n          lineWidth = centerX - (note.x + noteWidth);\n        } else if (note.x > centerX) {\n          lineLeft = centerX;\n          lineWidth = note.x - centerX;\n        } else {\n          lineLeft = centerX;\n          lineWidth = 0;\n        }\n\n        const lineTop = note.y + 20;\n\n        return (\n          <React.Fragment key={note.id}>\n            {lineWidth > 0 && (\n              <div\n                className=\"connector\"\n                style={{ left: lineLeft, top: lineTop, width: lineWidth }}\n              />\n            )}\n            <motion.div\n              drag\n              dragConstraints={containerRef}\n              dragElastic={0}\n              dragMomentum={false}\n              onDragEnd={(e, info) =>\n                updateNotePosition(\n                  note.id,\n                  note.x + info.offset.x,\n                  note.y + info.offset.y\n                )\n              }\n              onDoubleClick={() => handleEditNote(note)}\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.97 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n              className=\"note-wrapper\"\n              style={{ top: note.y, left: note.x, width: noteWidth }}\n            >\n              <div className=\"note-card\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"font-bold text-lg mb-1\">{note.title}</div>\n                <div className=\"text-sm mb-2 whitespace-pre-wrap\">\n                  {note.description}\n                </div>\n                {getImageURL(note) && (\n                  <img src={getImageURL(note)} alt=\"note\" />\n                )}\n                <div className=\"text-xs text-gray-600 mb-2\">\n                  Tags: {note.tags}\n                </div>\n                <button\n                  onClick={() => deleteNote(note.id)}\n                  className=\"text-red-600 hover:underline text-sm\"\n                >\n                  Delete\n                </button>\n              </div>\n            </motion.div>\n          </React.Fragment>\n        );\n      })}\n\n      {activeNote && (\n        <div\n          className=\"form-wrapper\"\n          style={{\n            position: \"absolute\",\n            top: activeNote.y,\n            left: activeNote.x,\n            width: 300,\n            zIndex: 20,\n          }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"bg-white shadow-lg rounded p-4 space-y-2\">\n            <input\n              className=\"border p-1 w-full\"\n              placeholder=\"Title\"\n              value={activeNote.title}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({ ...editingNote, title: e.target.value })\n                  : setCreatingNote({ ...creatingNote, title: e.target.value })\n              }\n            />\n            <textarea\n              className=\"border p-1 w-full resize-none\"\n              rows={3}\n              placeholder=\"Description\"\n              value={activeNote.description}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({\n                      ...editingNote,\n                      description: e.target.value,\n                    })\n                  : setCreatingNote({\n                      ...creatingNote,\n                      description: e.target.value,\n                    })\n              }\n            />\n            <input\n              className=\"border p-1 w-full\"\n              placeholder=\"Tags\"\n              value={activeNote.tags}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({ ...editingNote, tags: e.target.value })\n                  : setCreatingNote({ ...creatingNote, tags: e.target.value })\n              }\n            />\n            <DatePicker\n              selected={activeNote.date ? new Date(activeNote.date) : null}\n              onChange={(date) => {\n                const iso = date.toISOString().split(\"T\")[0];\n                editingNote\n                  ? setEditingNote({ ...editingNote, date: iso })\n                  : setCreatingNote({ ...creatingNote, date: iso });\n              }}\n              maxDate={new Date()}\n              className=\"border p-1 w-full\"\n              placeholderText=\"Seleziona la data\"\n            />\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({\n                      ...editingNote,\n                      image: e.target.files[0],\n                    })\n                  : setCreatingNote({\n                      ...creatingNote,\n                      image: e.target.files[0],\n                    })\n              }\n            />\n            <div className=\"flex justify-between pt-2\">\n              <button\n                onClick={saveNote}\n                className=\"px-3 py-1 bg-blue-600 text-white rounded\"\n              >\n                {editingNote ? \"Update\" : \"Save\"}\n              </button>\n              <button\n                onClick={() => {\n                  setCreatingNote(null);\n                  setEditingNote(null);\n                }}\n                className=\"px-3 py-1 bg-gray-300 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <button\n        className=\"add-btn\"\n        onClick={(e) => {\n          e.stopPropagation();\n          const rect = containerRef.current.getBoundingClientRect();\n          const x = rect.width / 2 + containerRef.current.scrollLeft;\n          const y = rect.height / 2 + containerRef.current.scrollTop;\n          setCreatingNote({\n            x,\n            y,\n            title: \"\",\n            description: \"\",\n            tags: \"\",\n            date: \"\",\n            image: null,\n            id: Date.now(),\n          });\n        }}\n      >\n        +\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}