{"ast":null,"code":"var _jsxFileName = \"/home/davide/progetti/timeline-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./App.css\";\nimport { register } from \"./serviceWorkerRegistration\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const containerRef = useRef(null);\n  const [notes, setNotes] = useState(() => {\n    const saved = localStorage.getItem(\"timeline-notes\");\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [creatingNote, setCreatingNote] = useState(null);\n  const [editingNote, setEditingNote] = useState(null);\n  useEffect(() => {\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight / 2;\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"timeline-notes\", JSON.stringify(notes));\n  }, [notes]);\n  const handleCreateNote = e => {\n    if (editingNote) return;\n    const rect = containerRef.current.getBoundingClientRect();\n    const x = e.clientX + containerRef.current.scrollLeft - rect.left;\n    const y = e.clientY + containerRef.current.scrollTop - rect.top;\n    setCreatingNote({\n      x,\n      y,\n      title: \"\",\n      description: \"\",\n      tags: \"\",\n      date: \"\",\n      image: null,\n      id: Date.now()\n    });\n  };\n  const handleEditNote = note => {\n    setEditingNote({\n      ...note\n    });\n  };\n  const getYFromDate = dateStr => {\n    if (!dateStr) return 5000;\n    const inputDate = new Date(dateStr);\n    const today = new Date();\n    inputDate.setHours(0, 0, 0, 0);\n    today.setHours(0, 0, 0, 0);\n    const diffInDays = Math.floor((today - inputDate) / (1000 * 60 * 60 * 24));\n    const pixelsPerDay = 10;\n    const centerY = 5000;\n    return centerY - diffInDays * pixelsPerDay;\n  };\n  const saveNote = () => {\n    if (editingNote) {\n      const updatedNote = {\n        ...editingNote,\n        y: getYFromDate(editingNote.date)\n      };\n      setNotes(prev => prev.map(n => n.id === editingNote.id ? updatedNote : n));\n      setEditingNote(null);\n    } else {\n      setNotes(prev => [...prev, {\n        ...creatingNote,\n        y: getYFromDate(creatingNote.date)\n      }]);\n      setCreatingNote(null);\n    }\n  };\n  const deleteNote = id => {\n    setNotes(prev => prev.filter(n => n.id !== id));\n  };\n  const updateNotePosition = (id, x, y) => {\n    const container = containerRef.current;\n    const noteWidth = 250;\n    const noteHeight = 150;\n    const maxX = container.scrollWidth - noteWidth;\n    const maxY = container.scrollHeight - noteHeight;\n    const clampedX = Math.min(Math.max(0, x), maxX);\n    const clampedY = Math.min(Math.max(0, y), maxY);\n    setNotes(prev => prev.map(n => n.id === id ? {\n      ...n,\n      x: clampedX,\n      y: clampedY\n    } : n));\n  };\n  const getImageURL = note => {\n    if (!note.image) return null;\n    if (typeof note.image === \"string\") return note.image; // se è già un URL\n    return URL.createObjectURL(note.image); // se è un File (es. appena caricato)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"container\",\n    style: {\n      position: \"relative\",\n      scrollSnapType: \"y mandatory\"\n    },\n    onClick: handleCreateNote,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline-line-vertical\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), notes.map(note => {\n      const centerX = containerRef.current ? containerRef.current.clientWidth / 2 + containerRef.current.scrollLeft : 0;\n      const noteWidth = 250;\n      const noteHeight = 150;\n      let lineLeft, lineWidth;\n      if (note.x + noteWidth < centerX) {\n        lineLeft = note.x + noteWidth;\n        lineWidth = centerX - (note.x + noteWidth);\n      } else if (note.x > centerX) {\n        lineLeft = centerX;\n        lineWidth = note.x - centerX;\n      } else {\n        lineLeft = centerX;\n        lineWidth = 0;\n      }\n      const lineTop = note.y + 20;\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [lineWidth > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"connector\",\n          style: {\n            left: lineLeft,\n            top: lineTop,\n            width: lineWidth\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          drag: true,\n          dragConstraints: containerRef,\n          dragElastic: 0,\n          dragMomentum: false,\n          onDragEnd: (e, info) => updateNotePosition(note.id, note.x + info.offset.x, note.y + info.offset.y),\n          onDoubleClick: () => handleEditNote(note),\n          whileHover: {\n            scale: 1.03\n          },\n          whileTap: {\n            scale: 0.97\n          },\n          transition: {\n            type: \"spring\",\n            stiffness: 300,\n            damping: 20\n          },\n          className: \"note-wrapper\",\n          style: {\n            top: note.y,\n            left: note.x,\n            width: noteWidth\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"note-card\",\n            onClick: e => e.stopPropagation(),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-lg mb-1\",\n              children: note.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm mb-2 whitespace-pre-wrap\",\n              children: note.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), getImageURL(note) && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageURL(note),\n              alt: \"note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600 mb-2\",\n              children: [\"Tags: \", note.tags]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteNote(note.id),\n              className: \"text-red-600 hover:underline text-sm\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, note.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this);\n    }), activeNote && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-wrapper\",\n      style: {\n        position: \"absolute\",\n        top: activeNote.y,\n        left: activeNote.x,\n        width: 300,\n        zIndex: 20\n      },\n      onClick: e => e.stopPropagation(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded p-4 space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border p-1 w-full\",\n          placeholder: \"Title\",\n          value: activeNote.title,\n          onChange: e => editingNote ? setEditingNote({\n            ...editingNote,\n            title: e.target.value\n          }) : setCreatingNote({\n            ...creatingNote,\n            title: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"border p-1 w-full resize-none\",\n          rows: 3,\n          placeholder: \"Description\",\n          value: activeNote.description,\n          onChange: e => editingNote ? setEditingNote({\n            ...editingNote,\n            description: e.target.value\n          }) : setCreatingNote({\n            ...creatingNote,\n            description: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border p-1 w-full\",\n          placeholder: \"Tags\",\n          value: activeNote.tags,\n          onChange: e => editingNote ? setEditingNote({\n            ...editingNote,\n            tags: e.target.value\n          }) : setCreatingNote({\n            ...creatingNote,\n            tags: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: activeNote.date ? new Date(activeNote.date) : null,\n          onChange: date => {\n            const iso = date.toISOString().split(\"T\")[0];\n            editingNote ? setEditingNote({\n              ...editingNote,\n              date: iso\n            }) : setCreatingNote({\n              ...creatingNote,\n              date: iso\n            });\n          },\n          className: \"border p-1 w-full\",\n          placeholderText: \"Seleziona la data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: e => editingNote ? setEditingNote({\n            ...editingNote,\n            image: e.target.files[0]\n          }) : setCreatingNote({\n            ...creatingNote,\n            image: e.target.files[0]\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveNote,\n            className: \"px-3 py-1 bg-blue-600 text-white rounded\",\n            children: editingNote ? \"Update\" : \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setCreatingNote(null);\n              setEditingNote(null);\n            },\n            className: \"px-3 py-1 bg-gray-300 rounded\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"add-btn\",\n      onClick: e => {\n        e.stopPropagation();\n        const rect = containerRef.current.getBoundingClientRect();\n        const x = rect.width / 2 + containerRef.current.scrollLeft;\n        const y = rect.height / 2 + containerRef.current.scrollTop;\n        setCreatingNote({\n          x,\n          y,\n          title: \"\",\n          description: \"\",\n          tags: \"\",\n          date: \"\",\n          image: null,\n          id: Date.now()\n        });\n      },\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OjPUacc9gCMWposD/2pVc42pn34=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","DatePicker","register","jsxDEV","_jsxDEV","App","_s","containerRef","notes","setNotes","saved","localStorage","getItem","JSON","parse","creatingNote","setCreatingNote","editingNote","setEditingNote","current","scrollTop","scrollHeight","setItem","stringify","handleCreateNote","e","rect","getBoundingClientRect","x","clientX","scrollLeft","left","y","clientY","top","title","description","tags","date","image","id","Date","now","handleEditNote","note","getYFromDate","dateStr","inputDate","today","setHours","diffInDays","Math","floor","pixelsPerDay","centerY","saveNote","updatedNote","prev","map","n","deleteNote","filter","updateNotePosition","container","noteWidth","noteHeight","maxX","scrollWidth","maxY","clampedX","min","max","clampedY","getImageURL","URL","createObjectURL","ref","className","style","position","scrollSnapType","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","centerX","clientWidth","lineLeft","lineWidth","lineTop","Fragment","width","div","drag","dragConstraints","dragElastic","dragMomentum","onDragEnd","info","offset","onDoubleClick","whileHover","scale","whileTap","transition","type","stiffness","damping","stopPropagation","src","alt","activeNote","zIndex","placeholder","value","onChange","target","rows","selected","iso","toISOString","split","placeholderText","accept","files","height","_c","$RefreshReg$"],"sources":["/home/davide/progetti/timeline-app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./App.css\";\nimport { register } from \"./serviceWorkerRegistration\";\n\nexport default function App() {\n  const containerRef = useRef(null);\n\n  const [notes, setNotes] = useState(() => {\n    const saved = localStorage.getItem(\"timeline-notes\");\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  const [creatingNote, setCreatingNote] = useState(null);\n  const [editingNote, setEditingNote] = useState(null);\n\n  useEffect(() => {\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight / 2;\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"timeline-notes\", JSON.stringify(notes));\n  }, [notes]);\n\n  const handleCreateNote = (e) => {\n    if (editingNote) return;\n    const rect = containerRef.current.getBoundingClientRect();\n    const x = e.clientX + containerRef.current.scrollLeft - rect.left;\n    const y = e.clientY + containerRef.current.scrollTop - rect.top;\n    setCreatingNote({\n      x,\n      y,\n      title: \"\",\n      description: \"\",\n      tags: \"\",\n      date: \"\",\n      image: null,\n      id: Date.now(),\n    });\n  };\n\n  const handleEditNote = (note) => {\n    setEditingNote({ ...note });\n  };\n\n  const getYFromDate = (dateStr) => {\n    if (!dateStr) return 5000;\n    const inputDate = new Date(dateStr);\n    const today = new Date();\n    inputDate.setHours(0, 0, 0, 0);\n    today.setHours(0, 0, 0, 0);\n    const diffInDays = Math.floor((today - inputDate) / (1000 * 60 * 60 * 24));\n    const pixelsPerDay = 10;\n    const centerY = 5000;\n    return centerY - diffInDays * pixelsPerDay;\n  };\n\n  const saveNote = () => {\n    if (editingNote) {\n      const updatedNote = {\n        ...editingNote,\n        y: getYFromDate(editingNote.date),\n      };\n      setNotes((prev) =>\n        prev.map((n) => (n.id === editingNote.id ? updatedNote : n))\n      );\n      setEditingNote(null);\n    } else {\n      setNotes((prev) => [\n        ...prev,\n        {\n          ...creatingNote,\n          y: getYFromDate(creatingNote.date),\n        },\n      ]);\n      setCreatingNote(null);\n    }\n  };\n\n  const deleteNote = (id) => {\n    setNotes((prev) => prev.filter((n) => n.id !== id));\n  };\n\n  const updateNotePosition = (id, x, y) => {\n    const container = containerRef.current;\n    const noteWidth = 250;\n    const noteHeight = 150;\n    const maxX = container.scrollWidth - noteWidth;\n    const maxY = container.scrollHeight - noteHeight;\n    const clampedX = Math.min(Math.max(0, x), maxX);\n    const clampedY = Math.min(Math.max(0, y), maxY);\n    setNotes((prev) =>\n      prev.map((n) => (n.id === id ? { ...n, x: clampedX, y: clampedY } : n))\n    );\n  };\n\nconst getImageURL = (note) => {\n  if (!note.image) return null;\n  if (typeof note.image === \"string\") return note.image; // se è già un URL\n  return URL.createObjectURL(note.image); // se è un File (es. appena caricato)\n};\n\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"container\"\n      style={{ position: \"relative\", scrollSnapType: \"y mandatory\" }}\n      onClick={handleCreateNote}\n    >\n      <div className=\"timeline-line-vertical\" />\n\n      {notes.map((note) => {\n        const centerX = containerRef.current\n          ? containerRef.current.clientWidth / 2 +\n            containerRef.current.scrollLeft\n          : 0;\n        const noteWidth = 250;\n        const noteHeight = 150;\n\n        let lineLeft, lineWidth;\n        if (note.x + noteWidth < centerX) {\n          lineLeft = note.x + noteWidth;\n          lineWidth = centerX - (note.x + noteWidth);\n        } else if (note.x > centerX) {\n          lineLeft = centerX;\n          lineWidth = note.x - centerX;\n        } else {\n          lineLeft = centerX;\n          lineWidth = 0;\n        }\n\n        const lineTop = note.y + 20;\n\n        return (\n          <React.Fragment key={note.id}>\n            {lineWidth > 0 && (\n              <div\n                className=\"connector\"\n                style={{ left: lineLeft, top: lineTop, width: lineWidth }}\n              />\n            )}\n            <motion.div\n              drag\n              dragConstraints={containerRef}\n              dragElastic={0}\n              dragMomentum={false}\n              onDragEnd={(e, info) =>\n                updateNotePosition(\n                  note.id,\n                  note.x + info.offset.x,\n                  note.y + info.offset.y\n                )\n              }\n              onDoubleClick={() => handleEditNote(note)}\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.97 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n              className=\"note-wrapper\"\n              style={{ top: note.y, left: note.x, width: noteWidth }}\n            >\n              <div className=\"note-card\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"font-bold text-lg mb-1\">{note.title}</div>\n                <div className=\"text-sm mb-2 whitespace-pre-wrap\">\n                  {note.description}\n                </div>\n                {getImageURL(note) && (\n                  <img src={getImageURL(note)} alt=\"note\" />\n                )}\n                <div className=\"text-xs text-gray-600 mb-2\">\n                  Tags: {note.tags}\n                </div>\n                <button\n                  onClick={() => deleteNote(note.id)}\n                  className=\"text-red-600 hover:underline text-sm\"\n                >\n                  Delete\n                </button>\n              </div>\n            </motion.div>\n          </React.Fragment>\n        );\n      })}\n\n      {activeNote && (\n        <div\n          className=\"form-wrapper\"\n          style={{\n            position: \"absolute\",\n            top: activeNote.y,\n            left: activeNote.x,\n            width: 300,\n            zIndex: 20,\n          }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"bg-white shadow-lg rounded p-4 space-y-2\">\n            <input\n              className=\"border p-1 w-full\"\n              placeholder=\"Title\"\n              value={activeNote.title}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({ ...editingNote, title: e.target.value })\n                  : setCreatingNote({ ...creatingNote, title: e.target.value })\n              }\n            />\n            <textarea\n              className=\"border p-1 w-full resize-none\"\n              rows={3}\n              placeholder=\"Description\"\n              value={activeNote.description}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({\n                      ...editingNote,\n                      description: e.target.value,\n                    })\n                  : setCreatingNote({\n                      ...creatingNote,\n                      description: e.target.value,\n                    })\n              }\n            />\n            <input\n              className=\"border p-1 w-full\"\n              placeholder=\"Tags\"\n              value={activeNote.tags}\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({ ...editingNote, tags: e.target.value })\n                  : setCreatingNote({ ...creatingNote, tags: e.target.value })\n              }\n            />\n            <DatePicker\n              selected={\n                activeNote.date ? new Date(activeNote.date) : null\n              }\n              onChange={(date) => {\n                const iso = date.toISOString().split(\"T\")[0];\n                editingNote\n                  ? setEditingNote({ ...editingNote, date: iso })\n                  : setCreatingNote({ ...creatingNote, date: iso });\n              }}\n              className=\"border p-1 w-full\"\n              placeholderText=\"Seleziona la data\"\n            />\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) =>\n                editingNote\n                  ? setEditingNote({\n                      ...editingNote,\n                      image: e.target.files[0],\n                    })\n                  : setCreatingNote({\n                      ...creatingNote,\n                      image: e.target.files[0],\n                    })\n              }\n            />\n            <div className=\"flex justify-between pt-2\">\n              <button\n                onClick={saveNote}\n                className=\"px-3 py-1 bg-blue-600 text-white rounded\"\n              >\n                {editingNote ? \"Update\" : \"Save\"}\n              </button>\n              <button\n                onClick={() => {\n                  setCreatingNote(null);\n                  setEditingNote(null);\n                }}\n                className=\"px-3 py-1 bg-gray-300 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <button\n        className=\"add-btn\"\n        onClick={(e) => {\n          e.stopPropagation();\n          const rect = containerRef.current.getBoundingClientRect();\n          const x = rect.width / 2 + containerRef.current.scrollLeft;\n          const y = rect.height / 2 + containerRef.current.scrollTop;\n          setCreatingNote({\n            x,\n            y,\n            title: \"\",\n            description: \"\",\n            tags: \"\",\n            date: \"\",\n            image: null,\n            id: Date.now(),\n          });\n        }}\n      >\n        +\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}